---
title: "DIY Alexa Raspberry Pi Voice Assistant"
date: 2016-12-01
slug: alexa-pi
tags: ["amazon", "home automation", "friendship", "mr robot", "DIY", "raspbian", "personal assistant", "alexa", "echo", "raspberry pi", "hardware"]
original_url: /2016/11/alexa-pi.html
---

Amazon did something really cool. They made their Alexa voice assistant code open source and cross platform. That means instead of buying their Amazon Echo to get a home assistant, you can simply install it on any system you want.  
  
It's actually a fairly straightforward project, especially if you've setup a Raspberry Pi before ([or eight #fromthevault](http://www.padovatech.com/someone-created-a-raspberry-pi-mini-cluster/))! Basically you're just installing an application, and setting up a microphone and speaker. Nothing fancy.  
  
There are already some great guides for getting started too for both Raspberry Pi and Alexa. I'm just going to direct you to these, give a rough overview, and add some additional tips.  
  
Here it is in action:  
  

<iframe width="560" height="315" src="https://www.youtube.com/embed/RhbnPltcmeU" frameborder="0" allowfullscreen></iframe>

  
  

### Shopping List

  
For equipment, you'll need:  
  
1\. A Raspberry Pi 3 with SD card and USB micro power source:  

-   [Raspberry Pi 3 Model B Starter Kit](https://amzn.to/2CSUgTC)

  
  
2\. A monitor with HDMI, and a keyboard and mouse for the install. These can be borrowed from another machine, as you don't need them once it's running.  
  
3\. A speaker and microphone combo. Any speaker with a 3.5mm Aux input will work. Microphone must be USB connected. I am using:  

-   [USB Sound Card](https://amzn.to/2VmNsVh)
-   [Lapel Mic](https://amzn.to/2StAhju)
-   [(e)scape Platinum](http://www.visions.ca/Catalogue/category/Details.aspx?categoryId=769&productId=31675&sku=SPBT927BK) (on sale in local Compute Canada)

  

### Raspberry Pi Raspbian Installation

  

The Raspberry Pi is the brain of Alexa, and needs an operating system and internet connection to function. I strongly recommend Raspbian Jessie with Pixel ([download and install guide can be found here).](https://www.raspberrypi.org/downloads/raspbian/) This is what most Raspberry Pi projects have been tested on, so things tend to go more smoothly.

  
Once the Pi starts up, run the following in terminal to get the software up to date:  
  
**$>** sudo apt-get update  
**$>** sudo apt-get upgrade  
  

### Install Alexa

  
To install Alexa, head over to the [excellent guide by Amazon](https://github.com/alexa/alexa-avs-sample-app/wiki/Raspberry-Pi).

  
Essentially it boils down to getting a developer account [here](https://developer.amazon.com/), and following the [steps here](https://github.com/alexa/alexa-avs-sample-app/wiki/Create-Security-Profile) to setup the credentials you need for a home application. Note your Device ID, Client ID, and Client Secret from your developer account.

  
Then head to your Pi and run the following in a terminal:

  

**$>** git clone https://github.com/alexa/alexa-avs-sample-app.git

  
Now the repository is downloaded. Navigate to the new alexa-avs-sample-app directory and edit automated\_install.sh to include your personal Device ID, Client Secret, and Client ID.

  
Once these are added, run ". automated\_install.sh" to begin installation. The install script configures the audio devices on your Pi too, so make sure your speaker and mic are plugged in at this stage.

  

These commands look like:

**$>** cd alexa-avs-sample-app

**$>** nano automated\_install.sh

**$>** . automated\_install.sh

  
This process takes about 30 minutes, and will have a few prompts along the way.  
  

### Running Alexa

  

When you finish the installation, you'll see instructions of how to proceed. The Amazon install guide also covers running these three steps.  
  
**Command 1:**  
The first command starts the companion service which opens port 3000 for communication with Amazon.  
  
**$>** cd ~/Desktop/alexa-avs-sample-app/samples  
**$>** cd companionService && npm start  
  
**Command 2:**  
The second starts the Alexa app, which prompts you to open a browser and get authenticated.  
  
If this fails in Chromium try going to settings -> advanced -> Privacy -> content settings -> allow key generation.  
  
**$>** cd ~/Desktop/alexa-avs-sample-app/samples  
**$>** cd javaclient && mvn exec:exec  
  
**Command 3:**  
The last command enables the use of Wake Words. If this fails, there is probably something wrong with your audio setup. I had to re-run the install after using a new mic. You can use kitt\_ai or sensory, I use kitt\_ai as it doesn't require a license renewal and works great.  
  
**$>** cd ~/Desktop/alexa-avs-sample-app/samples  
**$>** cd wakeWordAgent/src && ./wakeWordAgent -e kitt\_ai  
  
Once all three are running, you should be able to say "Alexa" (wait for the acknowledging beep), and speak with your personal assistant to your hearts content.  
  
If you are running "Headless" (with no monitor), checkout [this page](https://www.realvnc.com/docs/raspberry-pi.html#raspberry-pi-ssh) on how to setup a VNC server and run a graphical session remotely.  

## Using Alexa

  
Now that you've got a personal assistant, what should you do?  
  
My favourite voice commands so far are:  

-   Tell me a joke.
-   Do you believe in ghosts?
-   Do you like Jeff Bezos?
-   Sing me a song.
-   I am your father.

To customize the experience, go to the [Amazon Alexa page](http://alexa.amazon.com/spa/index.html). The app also doesn't allow non USA addresses. This means I have to say "what's the weather in Toronto" instead of "What's the weather". It does have my address on record under traffic though, and seems to know about local businesses.  
  
There's also the Mr. Robot treatment where you use Alexa as your therapist. Suit yourself...  
  

<iframe width="560" height="315" src="https://www.youtube.com/embed/TaY9zt_qx_c" frameborder="0" allowfullscreen></iframe>